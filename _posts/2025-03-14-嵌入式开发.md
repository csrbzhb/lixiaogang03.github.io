---
layout:     post
title:      嵌入式开发
subtitle:   面试题
date:       2025-03-14
author:     LXG
header-img: img/post-bg-board.jpg
catalog: true
tags:
    - linux
---

[基于stm32F407嵌入式底层驱动开发实践](https://stm32f407-tech-doc.readthedocs.io/en/latest/index.html)

## 硬件

### GPIO

1. 什么是 上拉电阻（Pull-up） 和 下拉电阻（Pull-down）？它们的作用是什么？

```txt

上拉电阻（Pull-up Resistor） 和 下拉电阻（Pull-down Resistor） 是用于稳定数字电路输入端状态的电子元件，防止输入端悬空（Floating），导致不确定的逻辑状态。

上拉电阻：默认 高电平，防止输入端悬空，常用于 I2C、UART、开漏电路 等。
下拉电阻：默认 低电平，确保输入端稳定，常用于 按键输入、使能信号 等。
内置上拉/下拉：现代 MCU 可通过软件配置内部上拉/下拉，无需外部电阻

```

2. 什么是 开漏输出（Open Drain） 和 推挽输出（Push-Pull）？它们的应用场景是什么？

| **特性**  | **开漏输出（Open Drain）** | **推挽输出（Push-Pull）** |
|----------|------------------|------------------|
| **能否主动输出高电平** | **不能**（需要外部上拉） | **能**（直接输出 VCC） |
| **能否主动输出低电平** | 能（MOSFET 导通接地） | 能（下管导通接地） |
| **是否需要外部上拉电阻** | **需要** | **不需要** |
| **适用于总线通信** | **适用于 I2C、信号共享** | 不适合 |
| **适用于高速信号** | **不适合** | **适用于 SPI、UART** |
| **驱动能力** | 适合驱动外部大功率负载 | 适合直接驱动小型负载 |
| **功耗** | 取决于上拉电阻值 | **较低** |

3. 如何在 C 代码中实现一个 GPIO 的按键检测，并带去抖动功能？

| **方法**               | **优点**              | **缺点**              | **适用场景**              |
|------------------------|-----------------------|-----------------------|---------------------------|
| **软件延时去抖动**      | 简单、易实现          | `HAL_Delay()` 影响其他任务 | 低频按键，单任务应用      |
| **定时器+中断去抖动**   | **非阻塞，高可靠**    | 需配置定时器，稍复杂   | 需要高可靠性、频繁检测    |






















